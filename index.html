<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tech Fluency for Ecommerce Legends | Immersive Learning</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-dark: #0d1117;
            --bg-card: #161b22;
            --bg-elevated: #21262d;
            --border: #30363d;
            --text-primary: #e6edf3;
            --text-secondary: #8b949e;
            --text-muted: #6e7681;
            --accent: #00d4aa;
            --accent-dim: rgba(0, 212, 170, 0.15);
            --warning: #f0883e;
            --warning-dim: rgba(240, 136, 62, 0.15);
            --error: #f85149;
            --success: #3fb950;
            --purple: #a371f7;
            --purple-dim: rgba(163, 113, 247, 0.15);
            --blue: #58a6ff;
        }
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Atkinson Hyperlegible', system-ui, sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            line-height: 1.7;
            min-height: 100vh;
        }
        
        /* Navigation */
        .nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(13, 17, 23, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border);
            padding: 1rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
        }
        .nav-brand { font-weight: 700; color: var(--accent); letter-spacing: 1px; }
        .nav-stats { display: flex; gap: 1.5rem; }
        .stat { display: flex; align-items: center; gap: 0.5rem; font-size: 0.9rem; }
        .stat-value { color: var(--accent); font-weight: 700; }
        
        /* Progress Bar */
        .progress-bar {
            position: fixed;
            top: 56px;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--bg-elevated);
            z-index: 99;
        }
        .progress-fill { height: 100%; background: linear-gradient(90deg, var(--accent), var(--purple)); transition: width 0.5s ease; }
        
        /* Container */
        .container { max-width: 800px; margin: 0 auto; padding: 90px 1.5rem 3rem; }
        
        /* Hero */
        .hero { text-align: center; padding: 2.5rem 0 2rem; }
        .hero-tag { display: inline-block; background: var(--accent-dim); color: var(--accent); padding: 0.4rem 1rem; border-radius: 20px; font-size: 0.85rem; font-weight: 700; margin-bottom: 1rem; }
        .hero h1 { font-size: 2rem; margin-bottom: 0.75rem; line-height: 1.2; }
        .hero-subtitle { color: var(--text-secondary); font-size: 1rem; max-width: 500px; margin: 0 auto 1.5rem; }
        .hero-meta { display: flex; justify-content: center; gap: 1.5rem; flex-wrap: wrap; color: var(--text-muted); font-size: 0.9rem; }
        
        /* Week Sections */
        .week-section { margin-bottom: 2.5rem; }
        .week-header { display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem; padding: 1rem; background: var(--bg-card); border-radius: 12px; border: 1px solid var(--border); }
        .week-number { width: 48px; height: 48px; background: linear-gradient(135deg, var(--accent), var(--purple)); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 1.1rem; flex-shrink: 0; }
        .week-info h2 { font-size: 1.1rem; margin-bottom: 0.25rem; }
        .week-desc { color: var(--text-secondary); font-size: 0.85rem; }
        
        /* Day Grid */
        .day-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap: 0.75rem; }
        .day-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1rem;
            cursor: pointer;
            transition: all 0.2s ease;
            position: relative;
            overflow: hidden;
        }
        .day-card:hover:not(.locked) { border-color: var(--accent); transform: translateY(-2px); }
        .day-card.locked { opacity: 0.5; cursor: not-allowed; }
        .day-card.completed { border-color: var(--success); }
        .day-card.completed::before {
            content: '‚úì';
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            width: 20px;
            height: 20px;
            background: var(--success);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: 700;
        }
        .day-num { font-size: 0.8rem; color: var(--text-muted); margin-bottom: 0.25rem; }
        .day-title { font-size: 0.9rem; font-weight: 600; line-height: 1.3; }
        .day-duration { font-size: 0.75rem; color: var(--text-muted); margin-top: 0.5rem; }
        
        /* Lesson View */
        .lesson-view { display: none; }
        .lesson-view.active { display: block; }
        .lesson-header { margin-bottom: 2rem; }
        .lesson-back { display: inline-flex; align-items: center; gap: 0.5rem; color: var(--text-secondary); font-size: 0.9rem; cursor: pointer; margin-bottom: 1rem; transition: color 0.2s; }
        .lesson-back:hover { color: var(--accent); }
        .lesson-meta { display: flex; gap: 1rem; color: var(--text-muted); font-size: 0.85rem; margin-top: 0.5rem; }
        .lesson-tag { background: var(--bg-elevated); padding: 0.25rem 0.75rem; border-radius: 12px; font-size: 0.75rem; }
        
        /* Cold Open Challenge - NEW */
        .cold-open {
            background: linear-gradient(135deg, var(--warning-dim), var(--purple-dim));
            border: 2px solid var(--warning);
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }
        .cold-open-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1rem;
        }
        .cold-open-icon { font-size: 1.5rem; }
        .cold-open-title { font-weight: 700; color: var(--warning); font-size: 1rem; }
        .cold-open-scenario { font-size: 1rem; line-height: 1.6; margin-bottom: 1rem; }
        .cold-open-question { font-weight: 700; margin-bottom: 1rem; }
        .cold-open-input {
            width: 100%;
            background: var(--bg-dark);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1rem;
            color: var(--text-primary);
            font-family: inherit;
            font-size: 0.95rem;
            min-height: 80px;
            resize: vertical;
            margin-bottom: 1rem;
        }
        .cold-open-input:focus { outline: none; border-color: var(--warning); }
        .cold-open-toggle {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-secondary);
            font-size: 0.9rem;
            cursor: pointer;
            transition: color 0.2s;
        }
        .cold-open-toggle:hover { color: var(--warning); }
        .cold-open-revisit {
            display: none;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid var(--border);
        }
        .cold-open-revisit.show { display: block; }
        .cold-open-original {
            background: var(--bg-dark);
            border-radius: 8px;
            padding: 1rem;
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 1rem;
            font-style: italic;
        }
        
        /* Lesson Content */
        .lesson-content { margin-bottom: 2rem; }
        .lesson-content h2 { font-size: 1.4rem; margin: 2rem 0 1rem; color: var(--accent); }
        .lesson-content h3 { font-size: 1.15rem; margin: 1.5rem 0 0.75rem; }
        .lesson-content p { margin-bottom: 1rem; color: var(--text-secondary); }
        .lesson-content ul, .lesson-content ol { margin: 1rem 0; padding-left: 1.5rem; color: var(--text-secondary); }
        .lesson-content li { margin-bottom: 0.5rem; }
        .lesson-content strong { color: var(--text-primary); }
        
        /* Micro Interactions - NEW */
        .micro-check {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1.25rem;
            margin: 1.5rem 0;
        }
        .micro-check-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.75rem;
            font-size: 0.85rem;
            color: var(--purple);
            font-weight: 600;
        }
        .micro-check-question { margin-bottom: 1rem; font-size: 0.95rem; }
        .micro-check-options { display: flex; flex-direction: column; gap: 0.5rem; }
        .micro-option {
            background: var(--bg-elevated);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 0.75rem 1rem;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 0.9rem;
        }
        .micro-option:hover { border-color: var(--purple); }
        .micro-option.selected { border-color: var(--purple); background: var(--purple-dim); }
        .micro-option.correct { border-color: var(--success); background: rgba(63, 185, 80, 0.15); }
        .micro-option.incorrect { border-color: var(--error); background: rgba(248, 81, 73, 0.15); }
        .micro-feedback {
            display: none;
            margin-top: 1rem;
            padding: 1rem;
            border-radius: 8px;
            font-size: 0.9rem;
        }
        .micro-feedback.show { display: block; }
        .micro-feedback.correct { background: rgba(63, 185, 80, 0.1); border: 1px solid var(--success); }
        .micro-feedback.incorrect { background: rgba(248, 81, 73, 0.1); border: 1px solid var(--error); }
        
        /* Predict Prompt - NEW */
        .predict-prompt {
            background: var(--purple-dim);
            border: 1px dashed var(--purple);
            border-radius: 12px;
            padding: 1.25rem;
            margin: 1.5rem 0;
        }
        .predict-header {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 0.75rem;
            color: var(--purple);
            font-weight: 600;
            font-size: 0.9rem;
        }
        .predict-question { margin-bottom: 1rem; }
        .predict-reveal {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: var(--bg-dark);
            border: 1px solid var(--purple);
            color: var(--purple);
            padding: 0.5rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.2s;
        }
        .predict-reveal:hover { background: var(--purple); color: var(--bg-dark); }
        .predict-answer {
            display: none;
            margin-top: 1rem;
            padding: 1rem;
            background: var(--bg-dark);
            border-radius: 8px;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }
        .predict-answer.show { display: block; }
        
        /* Code Block */
        .code-block {
            background: #0d1117;
            border: 1px solid var(--border);
            border-radius: 8px;
            margin: 1rem 0;
            overflow: hidden;
        }
        .code-block::before {
            content: attr(data-lang);
            display: block;
            background: var(--bg-elevated);
            padding: 0.5rem 1rem;
            font-size: 0.75rem;
            color: var(--text-muted);
            border-bottom: 1px solid var(--border);
        }
        .code-block code {
            display: block;
            padding: 1rem;
            overflow-x: auto;
            font-family: 'JetBrains Mono', 'Fira Code', monospace;
            font-size: 0.85rem;
            line-height: 1.5;
            white-space: pre;
        }
        
        /* Info Box */
        .info-box {
            background: var(--accent-dim);
            border-left: 4px solid var(--accent);
            border-radius: 0 8px 8px 0;
            padding: 1rem 1.25rem;
            margin: 1.5rem 0;
        }
        .info-box-title { font-weight: 700; margin-bottom: 0.5rem; color: var(--accent); }
        .info-box p { margin-bottom: 0.5rem; }
        .info-box p:last-child { margin-bottom: 0; }
        
        /* Warning Box */
        .warning-box {
            background: var(--warning-dim);
            border-left: 4px solid var(--warning);
            border-radius: 0 8px 8px 0;
            padding: 1rem 1.25rem;
            margin: 1.5rem 0;
        }
        .warning-box-title { font-weight: 700; margin-bottom: 0.5rem; color: var(--warning); }
        
        /* Quiz Section */
        .quiz-section { margin-top: 3rem; padding-top: 2rem; border-top: 2px solid var(--border); }
        .quiz-title { font-size: 1.3rem; margin-bottom: 0.5rem; display: flex; align-items: center; gap: 0.75rem; }
        .quiz-subtitle { color: var(--text-secondary); margin-bottom: 2rem; font-size: 0.95rem; }
        .quiz-progress { display: flex; gap: 0.5rem; margin-bottom: 1.5rem; }
        .quiz-dot { width: 12px; height: 12px; border-radius: 50%; background: var(--bg-elevated); border: 1px solid var(--border); }
        .quiz-dot.answered { background: var(--accent); border-color: var(--accent); }
        .quiz-dot.current { border-color: var(--accent); box-shadow: 0 0 0 3px var(--accent-dim); }
        
        .quiz-question { margin-bottom: 2rem; }
        .question-num { font-size: 0.85rem; color: var(--text-muted); margin-bottom: 0.5rem; }
        .question-text { font-size: 1.05rem; margin-bottom: 1.25rem; line-height: 1.5; }
        
        /* Justify Input - NEW */
        .justify-section {
            background: var(--bg-elevated);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
        }
        .justify-label {
            font-size: 0.85rem;
            color: var(--text-muted);
            margin-bottom: 0.5rem;
        }
        .justify-input {
            width: 100%;
            background: var(--bg-dark);
            border: 1px solid var(--border);
            border-radius: 6px;
            padding: 0.75rem;
            color: var(--text-primary);
            font-family: inherit;
            font-size: 0.9rem;
            min-height: 60px;
            resize: vertical;
        }
        .justify-input:focus { outline: none; border-color: var(--accent); }
        
        .quiz-options { display: flex; flex-direction: column; gap: 0.75rem; }
        .quiz-option {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            padding: 1rem;
            background: var(--bg-card);
            border: 2px solid var(--border);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .quiz-option:hover { border-color: var(--accent); }
        .quiz-option.selected { border-color: var(--accent); background: var(--accent-dim); }
        .quiz-option.correct { border-color: var(--success); background: rgba(63, 185, 80, 0.1); }
        .quiz-option.incorrect { border-color: var(--error); background: rgba(248, 81, 73, 0.1); }
        .option-letter {
            width: 28px;
            height: 28px;
            background: var(--bg-elevated);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 0.85rem;
            flex-shrink: 0;
        }
        .quiz-option.selected .option-letter { background: var(--accent); color: var(--bg-dark); }
        .option-text { flex: 1; font-size: 0.95rem; line-height: 1.4; }
        
        .quiz-feedback {
            display: none;
            margin-top: 1rem;
            padding: 1rem;
            border-radius: 8px;
            font-size: 0.9rem;
            line-height: 1.5;
        }
        .quiz-feedback.show { display: block; }
        .quiz-feedback.correct { background: rgba(63, 185, 80, 0.1); border: 1px solid var(--success); }
        .quiz-feedback.incorrect { background: rgba(248, 81, 73, 0.1); border: 1px solid var(--error); }
        
        /* Wrong Reasoning - NEW */
        .wrong-reasoning {
            margin-top: 0.75rem;
            padding-top: 0.75rem;
            border-top: 1px dashed var(--border);
            font-size: 0.85rem;
            color: var(--text-muted);
        }
        .wrong-reasoning-title {
            color: var(--warning);
            font-weight: 600;
            margin-bottom: 0.25rem;
        }
        
        /* Buttons */
        .btn-group { display: flex; gap: 1rem; margin-top: 1.5rem; flex-wrap: wrap; }
        .btn {
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            font-weight: 600;
            font-size: 0.95rem;
            cursor: pointer;
            transition: all 0.2s ease;
            border: none;
            font-family: inherit;
        }
        .btn-primary { background: var(--accent); color: var(--bg-dark); }
        .btn-primary:hover { background: #00eebb; }
        .btn-primary:disabled { opacity: 0.5; cursor: not-allowed; }
        .btn-secondary { background: var(--bg-elevated); color: var(--text-primary); border: 1px solid var(--border); }
        .btn-secondary:hover { border-color: var(--accent); }
        
        /* Essay Section */
        .essay-section { margin-top: 2.5rem; padding-top: 2rem; border-top: 2px solid var(--border); }
        .essay-title { font-size: 1.2rem; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.75rem; }
        .essay-prompt {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1.25rem;
            margin-bottom: 1rem;
        }
        .essay-textarea {
            width: 100%;
            min-height: 150px;
            background: var(--bg-elevated);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1rem;
            color: var(--text-primary);
            font-family: inherit;
            font-size: 0.95rem;
            line-height: 1.6;
            resize: vertical;
        }
        .essay-textarea:focus { outline: none; border-color: var(--accent); }
        
        /* Self Assessment Rubric - NEW */
        .rubric {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 1.25rem;
            margin-top: 1rem;
        }
        .rubric-title {
            font-weight: 700;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        .rubric-item {
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
            margin-bottom: 0.75rem;
            font-size: 0.9rem;
        }
        .rubric-checkbox {
            width: 20px;
            height: 20px;
            background: var(--bg-elevated);
            border: 2px solid var(--border);
            border-radius: 4px;
            flex-shrink: 0;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }
        .rubric-checkbox.checked {
            background: var(--success);
            border-color: var(--success);
        }
        .rubric-checkbox.checked::after {
            content: '‚úì';
            color: var(--bg-dark);
            font-size: 0.75rem;
            font-weight: 700;
        }
        .rubric-text { color: var(--text-secondary); }
        .essay-guidance {
            margin-top: 1rem;
            padding: 1rem;
            background: var(--accent-dim);
            border-radius: 8px;
            font-size: 0.9rem;
        }
        .essay-guidance summary {
            cursor: pointer;
            color: var(--accent);
            font-weight: 600;
        }
        .essay-guidance-content { margin-top: 0.75rem; color: var(--text-secondary); }
        
        /* Callback Question - NEW */
        .callback-section {
            margin-top: 2rem;
            padding: 1.25rem;
            background: linear-gradient(135deg, var(--bg-card), var(--purple-dim));
            border: 1px solid var(--purple);
            border-radius: 12px;
        }
        .callback-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1rem;
        }
        .callback-icon { font-size: 1.25rem; }
        .callback-title {
            font-weight: 700;
            color: var(--purple);
            font-size: 0.95rem;
        }
        .callback-from {
            font-size: 0.8rem;
            color: var(--text-muted);
            margin-left: auto;
        }
        .callback-question { margin-bottom: 1rem; }
        .callback-options { display: flex; flex-direction: column; gap: 0.5rem; }
        
        /* Completion */
        .lesson-completion {
            background: linear-gradient(135deg, rgba(0, 212, 170, 0.1), rgba(124, 58, 237, 0.1));
            border: 2px solid var(--success);
            border-radius: 16px;
            padding: 2rem;
            text-align: center;
            margin-top: 3rem;
        }
        .completion-icon { font-size: 3rem; margin-bottom: 1rem; }
        .completion-title { font-size: 1.5rem; margin-bottom: 0.5rem; }
        .completion-text { color: var(--text-secondary); margin-bottom: 1.5rem; }
        
        /* Project Thread - NEW */
        .project-banner {
            background: linear-gradient(135deg, var(--accent-dim), var(--bg-card));
            border: 1px solid var(--accent);
            border-radius: 12px;
            padding: 1rem 1.25rem;
            margin-bottom: 2rem;
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        .project-icon { font-size: 1.5rem; }
        .project-info { flex: 1; }
        .project-label { font-size: 0.8rem; color: var(--text-muted); }
        .project-title { font-weight: 700; color: var(--accent); }
        .project-progress {
            background: var(--bg-dark);
            border-radius: 20px;
            padding: 0.25rem 0.75rem;
            font-size: 0.8rem;
        }
        
        /* Footer */
        .footer { text-align: center; padding: 3rem 0; margin-top: 3rem; border-top: 1px solid var(--border); color: var(--text-muted); font-size: 0.9rem; }
        
        /* Reset Button */
        .reset-btn {
            position: fixed;
            bottom: 1rem;
            right: 1rem;
            background: var(--bg-card);
            border: 1px solid var(--border);
            color: var(--text-muted);
            padding: 0.5rem 1rem;
            border-radius: 8px;
            font-size: 0.8rem;
            cursor: pointer;
            z-index: 1000;
        }
        .reset-btn:hover { border-color: var(--error); color: var(--error); }
        
        /* Responsive */
        @media (max-width: 600px) {
            .container { padding: 80px 1rem 2rem; }
            .hero { padding: 2rem 0 1.5rem; }
            .hero-meta { flex-direction: column; gap: 0.75rem; }
            .week-header { flex-direction: column; align-items: flex-start; gap: 0.75rem; }
            .nav-stats { display: none; }
            .btn-group { flex-direction: column; }
            .btn { width: 100%; }
            .project-banner { flex-direction: column; text-align: center; }
        }
    </style>
</head>
<body>
    <nav class="nav">
        <div class="nav-brand">TECH FLUENCY: LEGEND</div>
        <div class="nav-stats">
            <div class="stat"><span class="stat-value" id="completedCount">0</span>/30</div>
            <div class="stat"><span class="stat-value" id="streakCount">0</span>üî•</div>
        </div>
    </nav>
    <div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div>
    
    <div class="container">
        <div id="dashboardView">
            <header class="hero">
                <span class="hero-tag">30-Day Immersive Programme</span>
                <h1>Tech Fluency for Ecommerce Legends</h1>
                <p class="hero-subtitle">Deep technical knowledge through struggle, discovery, and application. 1000+ words per lesson, cold opens, micro-checks, and a running project.</p>
                <div class="hero-meta">
                    <span>‚è± 45 min/day</span>
                    <span>üì± Mobile-first</span>
                    <span>üéØ Immersive learning</span>
                </div>
            </header>
            
            <section class="week-section">
                <div class="week-header">
                    <div class="week-number">W1</div>
                    <div class="week-info">
                        <h2>Infrastructure & Architecture</h2>
                        <p class="week-desc">Deep dive into how web systems work at scale</p>
                    </div>
                </div>
                <div class="day-grid" id="week1Grid"></div>
            </section>
            
            <section class="week-section">
                <div class="week-header">
                    <div class="week-number">W2</div>
                    <div class="week-info">
                        <h2>Frontend Engineering</h2>
                        <p class="week-desc">HTML, CSS, JavaScript and modern patterns</p>
                    </div>
                </div>
                <div class="day-grid" id="week2Grid"></div>
            </section>
            
            <section class="week-section">
                <div class="week-header">
                    <div class="week-number">W3</div>
                    <div class="week-info">
                        <h2>Backend & Integrations</h2>
                        <p class="week-desc">Servers, databases, APIs and payment systems</p>
                    </div>
                </div>
                <div class="day-grid" id="week3Grid"></div>
            </section>
            
            <section class="week-section">
                <div class="week-header">
                    <div class="week-number">W4</div>
                    <div class="week-info">
                        <h2>Operations & Security</h2>
                        <p class="week-desc">DevOps, monitoring, security, and performance</p>
                    </div>
                </div>
                <div class="day-grid" id="week4Grid"></div>
            </section>
            
            <section class="week-section">
                <div class="week-header">
                    <div class="week-number">+</div>
                    <div class="week-info">
                        <h2>Leadership & Strategy</h2>
                        <p class="week-desc">Technical decision making and roadmapping</p>
                    </div>
                </div>
                <div class="day-grid" id="bonusGrid"></div>
            </section>
        </div>
        
        <div id="lessonView" class="lesson-view"></div>
    </div>
    
    <button class="reset-btn" onclick="resetProgress()">Reset Progress</button>
    <footer class="footer"><p>Built for ambitious ecom professionals who want to speak tech fluently</p></footer>

<script>
</script>
</body>
</html>
 in URLs bad‚Äîshould be GET /products/{id}, POST /orders, DELETE /cart/items/{id}. Good REST uses nouns + HTTP methods for actions." }, content: "<h2>APIs</h2><p>Full content...</p>", questions: [{ q: "Amazon integration syncs every 15 min. Peak season: 429 Too Many Requests. What's happening?", options: ["Amazon down", "Exceeded rate limits. Implement backoff, batch requests, or request limit increase.", "Server slow", "Code bugs"], correct: 1, explanation: "429 = exceeded request rate. Solutions: backoff, batching, stagger operations, request higher limits.", wrongReasoning: "Amazon down = different errors. Server speed doesn't cause 429s." }], essay: { question: "Choosing between two payment providers. List technical API criteria to evaluate and why each matters.", rubric: ["Documentation quality", "Webhook reliability", "Error handling", "Sandbox environment", "Rate limits"], guidance: "Doc quality, webhook retry/signatures, meaningful errors, testing environment, rate limits for your volume." }, callback: { fromDay: 3, question: "From Day 3: Key trade-off when evaluating containerization proposal?", options: ["Containers faster", "Problems solved vs operational complexity added", "Don't work with databases", "Need new servers"], correct: 1 } },
        { day: 7, title: "Week 1 Review", desc: "Synthesize into complete picture", duration: "45 min", projectTask: "Complete infrastructure architecture doc", coldOpen: { scenario: "CEO asks: 'Explain our technical architecture to the board in 5 minutes. They want to understand how the website works and where risks are.'", question: "Write bullet-point outline for this explanation.", revisit: "Cover: request journey (DNS‚ÜíCDN‚ÜíLB‚Üíapp‚ÜíDB), where data lives (SQL/cache/search), how integrations work (APIs/webhooks), main risks (DB bottleneck, cache invalidation, third-party deps)." }, content: "<h2>Week 1 Synthesis</h2><p>Full review content...</p>", questions: [{ q: "Trace order placement path from 'Buy' click to order in system.", options: ["Browser‚ÜíServer‚ÜíDB", "Browser‚ÜíCDN‚ÜíLB‚ÜíApp‚ÜíDB(write)‚ÜíPayment API‚ÜíWebhook‚ÜíDB(update)‚ÜíConfirmation", "Browser‚ÜíDB‚ÜíPayment", "Payment‚ÜíBrowser‚ÜíDB"], correct: 1, explanation: "Full flow includes infrastructure and integration components.", wrongReasoning: "Simplified views miss critical layers." }], essay: { question: "Write 5-minute board presentation: technical architecture, key risks, one recommended improvement. Non-technical language.", rubric: ["Explained request journey", "2+ concrete risks with business impact", "Improvement with rationale", "Appropriate analogies", "No jargon overload"], guidance: "Analogy opening, customer journey briefly, risks in business terms, improvement tied to outcomes." }, callback: { fromDay: 4, question: "From Day 4: What's the N+1 query problem?", options: ["Too many tables", "Fetch list (1), then query each item's data (N) instead of JOINs", "Night queries", "Missing indexes"], correct: 1 } }
    ],
    week2: [
        { day: 8, title: "HTML5 Semantics & Accessibility", desc: "Structure and meaning", duration: "45 min", projectTask: "Audit product page HTML", coldOpen: { scenario: "Accessibility audit failed. Screen readers can't navigate products.", question: "What elements might be missing?", revisit: "Semantic HTML (header, nav, main, article) and ARIA labels enable navigation." }, content: "<h2>HTML</h2><p>Content...</p>", questions: [], essay: { question: "List accessibility improvements.", rubric: [], guidance: "" }, callback: null },
        { day: 9, title: "CSS Architecture", desc: "Styling at scale", duration: "45 min", projectTask: "Document CSS approach", coldOpen: { scenario: "CSS on one page breaks another.", question: "Why?", revisit: "Global CSS conflicts. BEM/modules/utilities provide scope." }, content: "<h2>CSS</h2><p>Content...</p>", questions: [], essay: { question: "Evaluate CSS architecture.", rubric: [], guidance: "" }, callback: null },
        { day: 10, title: "Core Web Vitals", desc: "What Google measures", duration: "50 min", projectTask: "Run Lighthouse", coldOpen: { scenario: "Mobile PageSpeed 35.", question: "Key factors?", revisit: "LCP, CLS, INP. Mobile stricter." }, content: "<h2>Performance</h2><p>Content...</p>", questions: [], essay: { question: "Performance plan.", rubric: [], guidance: "" }, callback: null },
        { day: 11, title: "JavaScript Fundamentals", desc: "The language of interactivity", duration: "45 min", projectTask: "Identify JS on pages", coldOpen: { scenario: "Add-to-cart fails on old Safari.", question: "Issue type?", revisit: "Compatibility‚Äînewer features need transpilation." }, content: "<h2>JavaScript</h2><p>Content...</p>", questions: [], essay: { question: "Document JS deps.", rubric: [], guidance: "" }, callback: null },
        { day: 12, title: "DOM & Events", desc: "How JS manipulates pages", duration: "45 min", projectTask: "Trace interaction", coldOpen: { scenario: "Click adds 2 items.", question: "Cause?", revisit: "Double handlers or event bubbling." }, content: "<h2>DOM</h2><p>Content...</p>", questions: [], essay: { question: "Event flow diagram.", rubric: [], guidance: "" }, callback: null },
        { day: 13, title: "Build Tools", desc: "Webpack, bundlers, transpilers", duration: "45 min", projectTask: "Document build process", coldOpen: { scenario: "Deploy takes 15 min. 'Build slow.'", question: "What's in a build?", revisit: "Bundling, transpilation, minification, optimization." }, content: "<h2>Build</h2><p>Content...</p>", questions: [], essay: { question: "Build efficiency.", rubric: [], guidance: "" }, callback: null },
        { day: 14, title: "Week 2 Review", desc: "Frontend architecture", duration: "45 min", projectTask: "Complete frontend doc", coldOpen: { scenario: "New checkout flow. Dev estimates 3 sprints.", question: "Frontend factors?", revisit: "CSS isolation, component reuse, build, testing." }, content: "<h2>Review</h2><p>Content...</p>", questions: [], essay: { question: "Frontend board presentation.", rubric: [], guidance: "" }, callback: null }
    ],
    week3: [
        { day: 15, title: "SSR, SSG, ISR", desc: "Rendering strategies", duration: "45 min", projectTask: "Identify rendering strategy", coldOpen: { scenario: "Products not in Google search.", question: "Why?", revisit: "CSR = empty HTML. SSR/SSG pre-renders." }, content: "<h2>Rendering</h2><p>Content...</p>", questions: [], essay: { question: "Evaluate rendering.", rubric: [], guidance: "" }, callback: null },
        { day: 16, title: "Authentication", desc: "Identity and access", duration: "50 min", projectTask: "Document auth flow", coldOpen: { scenario: "Support sees credit cards in admin.", question: "Failure?", revisit: "Authorization (access) distinct from authentication (identity)." }, content: "<h2>Auth</h2><p>Content...</p>", questions: [], essay: { question: "Auth audit.", rubric: [], guidance: "" }, callback: null },
        { day: 17, title: "Payment Integration", desc: "PCI, tokenization, flows", duration: "50 min", projectTask: "Document payment flow", coldOpen: { scenario: "PCI auditor: 'Where are card numbers stored?'", question: "Right answer?", revisit: "Tokenization‚ÄîYOU never store. Provider does." }, content: "<h2>Payments</h2><p>Content...</p>", questions: [], essay: { question: "Payment risk assessment.", rubric: [], guidance: "" }, callback: null },
        { day: 18, title: "Webhooks", desc: "Real-time integrations", duration: "45 min", projectTask: "Map webhooks", coldOpen: { scenario: "Marketplace orders sometimes don't sync.", question: "Where to look?", revisit: "Webhook failures, retries, endpoint availability, idempotency." }, content: "<h2>Webhooks</h2><p>Content...</p>", questions: [], essay: { question: "Webhook reliability.", rubric: [], guidance: "" }, callback: null },
        { day: 19, title: "Message Queues", desc: "Async processing", duration: "45 min", projectTask: "Identify async ops", coldOpen: { scenario: "Order emails 5 hours late.", question: "Cause?", revisit: "Queue backup, worker scaling, retries." }, content: "<h2>Queues</h2><p>Content...</p>", questions: [], essay: { question: "Async audit.", rubric: [], guidance: "" }, callback: null },
        { day: 20, title: "Search Implementation", desc: "Beyond SQL", duration: "45 min", projectTask: "Evaluate search", coldOpen: { scenario: "'Gold necklace' shows silver first.", question: "Relevance issue?", revisit: "Field weights, synonyms, boosting." }, content: "<h2>Search</h2><p>Content...</p>", questions: [], essay: { question: "Search improvement.", rubric: [], guidance: "" }, callback: null },
        { day: 21, title: "Week 3 Review", desc: "Backend integration", duration: "45 min", projectTask: "Complete integration doc", coldOpen: { scenario: "CFO: 'Why 47 software subscriptions?'", question: "Explain integration landscape.", revisit: "Composable commerce‚Äîeach system does one thing, APIs connect." }, content: "<h2>Review</h2><p>Content...</p>", questions: [], essay: { question: "Integration board presentation.", rubric: [], guidance: "" }, callback: null }
    ],
    week4: [
        { day: 22, title: "Platform Architecture", desc: "Monolith, microservices, headless", duration: "50 min", projectTask: "Classify architecture", coldOpen: { scenario: "Consultant: 'Go headless.' CTO skeptical.", question: "What to evaluate?", revisit: "Headless trade-offs: flexibility vs complexity." }, content: "<h2>Architecture</h2><p>Content...</p>", questions: [], essay: { question: "Platform modernization.", rubric: [], guidance: "" }, callback: null },
        { day: 23, title: "Monitoring", desc: "Knowing what's happening", duration: "45 min", projectTask: "Audit monitoring", coldOpen: { scenario: "Checkout errors reported but dashboards green.", question: "What's missing?", revisit: "Error tracking vs uptime. Real user vs synthetic." }, content: "<h2>Monitoring</h2><p>Content...</p>", questions: [], essay: { question: "Monitoring improvement.", rubric: [], guidance: "" }, callback: null },
        { day: 24, title: "Security", desc: "OWASP Top 10", duration: "50 min", projectTask: "Security self-assessment", coldOpen: { scenario: "Researcher emails: 'Found vulnerability.'", question: "What next?", revisit: "Responsible disclosure, severity, patching, comms." }, content: "<h2>Security</h2><p>Content...</p>", questions: [], essay: { question: "Incident response plan.", rubric: [], guidance: "" }, callback: null },
        { day: 25, title: "CI/CD", desc: "Getting code to production", duration: "45 min", projectTask: "Document deployment", coldOpen: { scenario: "Friday 5pm deploy breaks checkout.", question: "Process failures?", revisit: "Deploy windows, feature flags, rollback, staging." }, content: "<h2>CI/CD</h2><p>Content...</p>", questions: [], essay: { question: "Deployment improvement.", rubric: [], guidance: "" }, callback: null },
        { day: 26, title: "Incident Management", desc: "When things go wrong", duration: "45 min", projectTask: "Review past incidents", coldOpen: { scenario: "Site down 20 min. Slack chaos.", question: "What structure helps?", revisit: "Incident commander, clear channels, status page, post-mortems." }, content: "<h2>Incidents</h2><p>Content...</p>", questions: [], essay: { question: "Incident framework.", rubric: [], guidance: "" }, callback: null },
        { day: 27, title: "Cloud Costs", desc: "Getting value from spend", duration: "45 min", projectTask: "Review cloud spend", coldOpen: { scenario: "Cloud bill tripled.", question: "Where to look?", revisit: "Idle resources, over-provisioning, data transfer, reserved vs on-demand." }, content: "<h2>Costs</h2><p>Content...</p>", questions: [], essay: { question: "Cost optimization.", rubric: [], guidance: "" }, callback: null },
        { day: 28, title: "Week 4 Review", desc: "Operations", duration: "45 min", projectTask: "Complete ops playbook", coldOpen: { scenario: "Board: 'Is tech an advantage or liability?'", question: "How to assess?", revisit: "Tech debt audit, capability gaps, investment priorities." }, content: "<h2>Review</h2><p>Content...</p>", questions: [], essay: { question: "Technology capability assessment.", rubric: [], guidance: "" }, callback: null }
    ],
    bonus: [
        { day: 29, title: "Technical Leadership", desc: "Managing without coding", duration: "45 min", projectTask: "Leadership self-assessment", coldOpen: { scenario: "Dev estimates keep being wrong. PM frustrated.", question: "How to address as leader?", revisit: "Estimation culture, scope clarity, tech debt, buffers." }, content: "<h2>Leadership</h2><p>Content...</p>", questions: [], essay: { question: "Leadership development.", rubric: [], guidance: "" }, callback: null },
        { day: 30, title: "Technical Roadmapping", desc: "Prioritizing investments", duration: "45 min", projectTask: "Draft roadmap", coldOpen: { scenario: "CEO wants 'technology roadmap for board.'", question: "What should it contain?", revisit: "Business outcomes, technical enablers, risks, investment asks, milestones." }, content: "<h2>Roadmapping</h2><p>Content...</p>", questions: [], essay: { question: "Board-ready roadmap.", rubric: [], guidance: "" }, callback: null }
    ]
};

let completedDays = JSON.parse(localStorage.getItem('techFluencyCompleted') || '[]');
let coldOpenResponses = JSON.parse(localStorage.getItem('techFluencyColdOpens') || '{}');
let streak = parseInt(localStorage.getItem('techFluencyStreak') || '0');

function init() { renderDashboard(); updateProgress(); }

function renderDashboard() {
    const weeks = ['week1', 'week2', 'week3', 'week4', 'bonus'];
    const grids = ['week1Grid', 'week2Grid', 'week3Grid', 'week4Grid', 'bonusGrid'];
    weeks.forEach((week, i) => {
        const grid = document.getElementById(grids[i]);
        if (!grid || !courseData[week]) return;
        grid.innerHTML = courseData[week].map(day => {
            const isCompleted = completedDays.includes(day.day);
            const isUnlocked = day.day === 1 || completedDays.includes(day.day - 1) || isCompleted;
            return `<div class="day-card ${isCompleted ? 'completed' : ''} ${!isUnlocked ? 'locked' : ''}" 
                onclick="${isUnlocked ? `openLesson(${day.day})` : ''}">
                <div class="day-num">Day ${day.day}</div>
                <div class="day-title">${day.title}</div>
                <div class="day-duration">${day.duration}</div>
            </div>`;
        }).join('');
    });
}

function updateProgress() {
    document.getElementById('completedCount').textContent = completedDays.length;
    document.getElementById('streakCount').textContent = streak;
    document.getElementById('progressFill').style.width = `${(completedDays.length / 30) * 100}%`;
}

function findLesson(dayNum) {
    const all = [...courseData.week1, ...courseData.week2, ...courseData.week3, ...courseData.week4, ...courseData.bonus];
    return all.find(d => d.day === dayNum);
}

function openLesson(dayNum) {
    const lesson = findLesson(dayNum);
    if (!lesson) return;
    document.getElementById('dashboardView').style.display = 'none';
    document.getElementById('lessonView').classList.add('active');
    const saved = coldOpenResponses[dayNum] || '';
    
    document.getElementById('lessonView').innerHTML = `
        <div class="lesson-header">
            <div class="lesson-back" onclick="closeLesson()">‚Üê Back</div>
            <h1>Day ${lesson.day}: ${lesson.title}</h1>
            <div class="lesson-meta"><span>${lesson.duration}</span></div>
        </div>
        ${lesson.projectTask ? `<div class="project-banner"><div class="project-icon">üìã</div><div class="project-info"><div class="project-label">Running Project</div><div class="project-title">${lesson.projectTask}</div></div></div>` : ''}
        ${lesson.coldOpen ? `<div class="cold-open">
            <div class="cold-open-header"><div class="cold-open-icon">üî•</div><div class="cold-open-title">Cold Open Challenge</div></div>
            <div class="cold-open-scenario">${lesson.coldOpen.scenario}</div>
            <div class="cold-open-question">${lesson.coldOpen.question}</div>
            <textarea class="cold-open-input" id="coldOpenInput" placeholder="Your initial thinking...">${saved}</textarea>
            <div class="cold-open-toggle" onclick="toggleRevisit(${dayNum})">‚Üí Save and continue</div>
            <div class="cold-open-revisit" id="coldOpenRevisit"><p><strong>After the lesson:</strong> ${lesson.coldOpen.revisit}</p></div>
        </div>` : ''}
        <div class="lesson-content">${lesson.content}</div>
        ${lesson.callback ? `<div class="callback-section">
            <div class="callback-header"><div class="callback-icon">üîÑ</div><div class="callback-title">Spaced Recall</div><div class="callback-from">Day ${lesson.callback.fromDay}</div></div>
            <div class="callback-question">${lesson.callback.question}</div>
            <div class="callback-options">${lesson.callback.options.map((o,i) => `<div class="micro-option" onclick="answerCallback(this,${i},${lesson.callback.correct})">${o}</div>`).join('')}</div>
        </div>` : ''}
        <div class="quiz-section">
            <h2 class="quiz-title">üìù Knowledge Check</h2>
            <div id="quizContainer"></div>
        </div>
        <div class="essay-section">
            <h2 class="essay-title">‚úçÔ∏è Essay Question</h2>
            <div class="essay-prompt">${lesson.essay.question}</div>
            <textarea class="essay-textarea" placeholder="Your response..."></textarea>
            ${lesson.essay.rubric.length ? `<div class="rubric"><div class="rubric-title">üìã Self-Assessment</div>${lesson.essay.rubric.map(r => `<div class="rubric-item"><div class="rubric-checkbox" onclick="this.classList.toggle('checked')"></div><div class="rubric-text">${r}</div></div>`).join('')}</div>` : ''}
            ${lesson.essay.guidance ? `<details class="essay-guidance"><summary>Show guidance</summary><div class="essay-guidance-content">${lesson.essay.guidance}</div></details>` : ''}
        </div>
        <div class="lesson-completion" id="completionSection" style="display:none;">
            <div class="completion-icon">üéâ</div>
            <div class="completion-title">Day ${lesson.day} Complete!</div>
            <button class="btn btn-primary" onclick="completeDay(${lesson.day})">Mark Complete</button>
        </div>
        <div class="btn-group">
            <button class="btn btn-secondary" onclick="closeLesson()">Back</button>
            <button class="btn btn-primary" onclick="document.getElementById('completionSection').style.display='block';this.style.display='none';">Finish</button>
        </div>`;
    initMicroChecks();
    initQuiz(lesson);
    window.scrollTo(0,0);
}

function initMicroChecks() {
    document.querySelectorAll('.micro-check').forEach(c => {
        const correct = parseInt(c.dataset.correct);
        c.querySelectorAll('.micro-option').forEach(o => {
            o.onclick = () => {
                if (c.classList.contains('done')) return;
                c.classList.add('done');
                const idx = parseInt(o.dataset.index);
                c.querySelectorAll('.micro-option').forEach((opt,i) => {
                    if (i === correct) opt.classList.add('correct');
                    else if (i === idx) opt.classList.add('incorrect');
                });
                const fb = c.querySelector('.micro-feedback');
                fb.classList.add('show', idx === correct ? 'correct' : 'incorrect');
                fb.textContent = idx === correct ? '‚úì Correct!' : '‚úó Review this concept.';
            };
        });
    });
}

function initQuiz(lesson) {
    const container = document.getElementById('quizContainer');
    if (!lesson.questions || !lesson.questions.length) { container.innerHTML = '<p>Quiz coming soon.</p>'; return; }
    let current = 0;
    function render() {
        const q = lesson.questions[current];
        container.innerHTML = `<div class="quiz-question">
            <div class="question-num">Q${current+1}/${lesson.questions.length}</div>
            <div class="question-text">${q.q}</div>
            <div class="quiz-options">${q.options.map((o,i) => `<div class="quiz-option" onclick="selectQuizAnswer(${current},${i},${q.correct})"><div class="option-letter">${String.fromCharCode(65+i)}</div><div class="option-text">${o}</div></div>`).join('')}</div>
            <div class="quiz-feedback" id="feedback"></div>
            <div class="btn-group" id="quizNav" style="display:none;">
                ${current < lesson.questions.length-1 ? `<button class="btn btn-primary" onclick="nextQuizQ()">Next</button>` : `<button class="btn btn-primary" onclick="document.querySelector('.essay-section').scrollIntoView({behavior:'smooth'})">Continue</button>`}
            </div>
        </div>`;
    }
    window.selectQuizAnswer = (qi,sel,cor) => {
        document.querySelectorAll('.quiz-option').forEach((o,i) => {
            o.onclick = null;
            if (i === cor) o.classList.add('correct');
            else if (i === sel) o.classList.add('incorrect');
        });
        const fb = document.getElementById('feedback');
        fb.classList.add('show', sel === cor ? 'correct' : 'incorrect');
        const q = lesson.questions[qi];
        fb.innerHTML = sel === cor ? `<strong>‚úì</strong> ${q.explanation}` : `<strong>‚úó</strong> ${q.explanation}${q.wrongReasoning ? `<div class="wrong-reasoning"><div class="wrong-reasoning-title">Common errors:</div>${q.wrongReasoning}</div>` : ''}`;
        document.getElementById('quizNav').style.display = 'flex';
    };
    window.nextQuizQ = () => { current++; render(); };
    render();
}

function answerCallback(el,sel,cor) {
    const parent = el.parentElement;
    if (parent.classList.contains('done')) return;
    parent.classList.add('done');
    parent.querySelectorAll('.micro-option').forEach((o,i) => {
        if (i === cor) o.classList.add('correct');
        else if (i === sel) o.classList.add('incorrect');
    });
}

function toggleRevisit(day) {
    const input = document.getElementById('coldOpenInput');
    coldOpenResponses[day] = input.value;
    localStorage.setItem('techFluencyColdOpens', JSON.stringify(coldOpenResponses));
    document.getElementById('coldOpenRevisit').classList.toggle('show');
}

function completeDay(day) {
    if (!completedDays.includes(day)) {
        completedDays.push(day);
        localStorage.setItem('techFluencyCompleted', JSON.stringify(completedDays));
        streak++;
        localStorage.setItem('techFluencyStreak', streak.toString());
    }
    closeLesson();
}

function closeLesson() {
    document.getElementById('lessonView').classList.remove('active');
    document.getElementById('dashboardView').style.display = 'block';
    renderDashboard();
    updateProgress();
    window.scrollTo(0,0);
}

function resetProgress() {
    if (confirm('Reset all progress?')) {
        localStorage.clear();
        completedDays = [];
        coldOpenResponses = {};
        streak = 0;
        renderDashboard();
        updateProgress();
    }
}

document.addEventListener('DOMContentLoaded', init);
</script>
</body>
</html>
